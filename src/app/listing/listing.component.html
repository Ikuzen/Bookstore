<!-- ------------>
<!-- Search bar-->
<!-- ------------>
<input [(ngModel)]="book.toSearch" placeholder="type book" #ctrl="ngModel" required /> 
<label for="query-type">search by :</label>
<select [(ngModel)]="book.qType" name="query-type">
    <option value="intitle" selected>by title</option>
    <option value="inauthor">by author</option>
    <option value="isbn">by ISBN</option>
</select>

<label for="sort-type">order by :</label>
<select [(ngModel)]="book.sortType" name="sort-type">
    <option value="" selected>no specific order</option>
    <option value="&orderBy=newest"> newest</option>
    <option value="&orderBy=relevance"> relevance</option>
</select>

<label for="max-results">show results :</label>
<select [(ngModel)]="book.maxResults" name="max-results">
    <option value="&maxResults=10" selected>10</option>
    <option value="&maxResults=20"> 20</option>
    <option value="&maxResults=30"> 30</option>
    <option value="&maxResults=40"> 40</option>

</select>

<button (click)='searchBtn(book.qType)'>search</button>

<!-- ----------------->
<!-- results display-->
<!-- ----------------->
<div *ngIf="googleApiService.data; then data else loading"></div>
<ng-template #data>
  <div *ngIf="googleApiService.data.totalItems == 0">
    <p>No results</p>
  </div>
  <p> {{googleApiService.data.totalItems}} results :</p>
  <div *ngFor="let data of googleApiService.data.items">
    <div class= "product"> <!-- if book in sales, then display it-->
      <p>Titre : {{ data.volumeInfo.title }} </p>
      <p>Auteur : {{data.volumeInfo.authors[0]}}</p>
      <p>Prix : {{ data.saleInfo.listPrice?.amount || "not for sale"}} â‚¬ </p>
      <p>Genre : {{ data.volumeInfo.</p>
      <p>Id : {{ data.id }}</p>
      <img *ngIf="data.volumeInfo.imageLinks" [src]="data.volumeInfo.imageLinks.smallThumbnail" alt="data cover">
      <button >add to cart</button>
      <i class="fas fa-shopping-cart"></i>
      <button routerLink ="/detail/{{data.id}}">details</button>

    </div>
  </div>
</ng-template>
<ng-template #loading> Loading...</ng-template>
